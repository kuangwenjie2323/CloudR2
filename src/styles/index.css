html, body, #root { height: 100%; }

.app {
  width: 100%;
  min-height: 100dvh;   /* 新版动态视口，高度跟随地址栏 */
  min-height: 100svh;   /* iOS/Android 小视口兜底 */
  min-height: 100vh;    /* 旧浏览器兜底 */
  display: flex;
  flex-direction: column;
}

.app-header { flex: 0 0 auto; }
.app-main   { flex: 1 1 auto; min-height: 0; overflow: auto; }

/* 列表容器避免被撑爆 */
.file-grid, .file-list { min-height: 0; overflow: auto; }

@tailwind base;
@tailwind components;
@tailwind utilities;


@layer base {
* { @apply antialiased; }
body { @apply bg-surface text-zinc-900; }
}


@layer components {
.glass {
backdrop-filter: blur(var(--blur));
background: rgba(var(--card), 0.7);
}
}


@layer base {
  :root{
    --tabbar-h: 60px;           /* 你的底部导航或任务栏高度：按需改 */
  }
}

@layer base {
  :root{ --tabbar-h: 60px; }
}

@layer utilities {
  .pb-safe { padding-bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom)); }
  .bottom-drawer { bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom)); }

  /* 任务胶囊：统一停靠到底栏上方 12px */
  .task-pill {
    position: fixed;
    right: 12px;
    bottom: calc(var(--tabbar-h) + env(safe-area-inset-bottom) + 12px);
    z-index: 41;
  }
  /* 进入多选时，弱化胶囊以免抢点击 */
  @media (max-width: 767px){
    body[data-mode="select"] .task-pill{
      opacity: .35; pointer-events: none; transform: translateY(8px);
      transition: opacity .2s ease, transform .2s ease;
    }
  }
}

